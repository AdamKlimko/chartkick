<!DOCTYPE html>
<html>
  <head>
    <title>Chartkick</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="github.css">
    <style>
      body {
        padding: 0 0 40px 0;
        font-size: 16px;
        line-height: 1.6;
      }

      .container-fluid {
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
      }

      h1 {
        font-size: 42px;
      }

      h2, h3 {
        margin-top: 1em;
      }

      p {
        margin-top: 1.5em;
        margin-bottom: 1.5em;
      }

      pre {
        font-size: 14px;
        border: none;
      }

      .alert {
        padding: 8px 10px;
        margin-bottom: 10px;
        border: none;
      }
    </style>
    <script src="https://www.google.com/jsapi"></script>
    <script src="chartkick.js"></script>

    <link rel="stylesheet" href="github.css">
    <script src="highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </head>
  <body>
    <a href="https://github.com/ankane/chartkick" style="position: fixed; top: 30px; right: 30px; border: 0; z-index: 1000; color: #999;">View on Github</a>

    <div class="container-fluid">
      <div class="page-header">
        <h1>Chartkick</h1>
        <p class="lead" style="margin-top: 20px;">Create beautiful Javascript charts with one line of Ruby</p>
        <div class="alert alert-info">Also available in <a href="https://github.com/mher/chartkick.py">Python</a> and pure <a href="https://github.com/ankane/chartkick.js">JavaScript</a></div>
      </div>

<!-- START README -->

<p><img class="emoji" title=":two_hearts:" alt=":two_hearts:" src="https://assets-cdn.github.com/images/icons/emoji/two_hearts.png" height="20" width="20" align="absmiddle"> A perfect companion to <a href="https://github.com/ankane/groupdate">groupdate</a>, <a href="https://github.com/ankane/hightop">hightop</a>, and <a href="https://github.com/ankane/active_median">active_median</a></p>

<p><img class="emoji" title=":speech_balloon:" alt=":speech_balloon:" src="https://github.global.ssl.fastly.net/images/icons/emoji/speech_balloon.png" height="20" width="20" align="absmiddle"> Get <a href="http://chartkick.us7.list-manage.com/subscribe?u=952c861f99eb43084e0a49f98&amp;id=6ea6541e8e&amp;group%5B0%5D%5B2%5D=true">handcrafted updates</a> for new features</p>

<h2 id="charts">Charts</h2>

<p>Line chart</p>

<div id="chart-1" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.LineChart("chart-1", {"2013-02-10 00:00:00 -0800":11,"2013-02-11 00:00:00 -0800":6,"2013-02-12 00:00:00 -0800":3,"2013-02-13 00:00:00 -0800":2,"2013-02-14 00:00:00 -0800":5,"2013-02-15 00:00:00 -0800":3,"2013-02-16 00:00:00 -0800":8,"2013-02-17 00:00:00 -0800":6,"2013-02-18 00:00:00 -0800":6,"2013-02-19 00:00:00 -0800":12,"2013-02-20 00:00:00 -0800":5,"2013-02-21 00:00:00 -0800":5,"2013-02-22 00:00:00 -0800":3,"2013-02-23 00:00:00 -0800":1,"2013-02-24 00:00:00 -0800":10,"2013-02-25 00:00:00 -0800":1,"2013-02-26 00:00:00 -0800":3,"2013-02-27 00:00:00 -0800":2,"2013-02-28 00:00:00 -0800":3,"2013-03-01 00:00:00 -0800":2,"2013-03-02 00:00:00 -0800":8}, {});
</script>

<pre><code class="erb">&lt;%= line_chart User.group_by_day(:created_at).count %&gt;
</code></pre>

<div class="alert alert-info">
  Install <a href="https://github.com/ankane/groupdate">Groupdate</a> to use the group_by_day method
</div>

<p>Pie chart</p>

<div id="chart-2" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.PieChart(document.getElementById("chart-2"), [["Blueberry",44],["Strawberry",23],["Banana",22],["Apple",21],["Grape",13]], {});
</script>

<pre><code class="erb">&lt;%= pie_chart Goal.group(:name).count %&gt;
</code></pre>

<p>Column chart</p>

<div id="chart-3" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.ColumnChart("chart-3", [["0",32],["1",46],["2",28],["3",21],["4",20],["5",13],["6",27]], {});
</script>

<pre><code class="erb">&lt;%= column_chart Task.group_by_hour_of_day(:created_at, format: &quot;%l %P&quot;).count %&gt;
</code></pre>

<p>Bar chart</p>

<div id="chart-4" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">
  Loading...
</div>
<script type="text/javascript">
  new Chartkick.BarChart("chart-4", [["X-Small",5],["Small",27],["Medium",10],["Large",14],["X-Large",10]], {});
</script>

<pre><code class="erb">&lt;%= bar_chart Shirt.group(:size).sum(:price) %&gt;
</code></pre>

<p>Area chart</p>

<div id="chart-5" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">
  Loading...
</div>
<script type="text/javascript">
  new Chartkick.AreaChart("chart-5", {"2013-07-27 07:00:00 UTC":2,"2013-07-27 07:01:00 UTC":5,"2013-07-27 07:02:00 UTC":3,"2013-07-27 07:03:00 UTC":3,"2013-07-27 07:04:00 UTC":2,"2013-07-27 07:05:00 UTC":5,"2013-07-27 07:06:00 UTC":1,"2013-07-27 07:07:00 UTC":3,"2013-07-27 07:08:00 UTC":4,"2013-07-27 07:09:00 UTC":3,"2013-07-27 07:10:00 UTC":2}, {});
</script>

<pre><code class="erb">&lt;%= area_chart Visit.group_by_minute(:created_at).maximum(:load_time) %&gt;
</code></pre>

<p>Scatter chart</p>

<div id="chart-8" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">
  Loading...
</div>
<script>
  new Chartkick.ScatterChart("chart-8", [[174.0, 80.0], [176.5, 82.3], [180.3, 73.6], [167.6, 74.1], [188.0, 85.9]]);
</script>

<pre><code class="erb">&lt;%= scatter_chart City.pluck(:size, :population) %&gt;
</code></pre>

<p>Geo chart</p>

<div id="chart-6" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif; margin-bottom: 10px;">
  Loading...
</div>
<script type="text/javascript">
  new Chartkick.GeoChart("chart-6", [["United States",101],["Russia",63],["Germany",65],["China",50],["France",37],["Italy",35],["Australia",41]], {});
</script>

<pre><code class="erb">&lt;%= geo_chart Medal.group(:country).count %&gt;
</code></pre>

<p>Timeline</p>

<div id="chart-timeline" style="height: 180px; text-align: center; color: #999; line-height: 180px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">
  Loading...
</div>
<script>
  new Chartkick.Timeline("chart-timeline", [["Washington", "1789-04-29", "1797-03-03"],["Adams", "1797-03-03", "1801-03-03"],["Jefferson", "1801-03-03", "1809-03-03"]]);
</script>

<pre><code class="erb">&lt;%= timeline [
  [&quot;Washington&quot;, &quot;1789-04-29&quot;, &quot;1797-03-03&quot;],
  [&quot;Adams&quot;, &quot;1797-03-03&quot;, &quot;1801-03-03&quot;],
  [&quot;Jefferson&quot;, &quot;1801-03-03&quot;, &quot;1809-03-03&quot;]
] %&gt;
</code></pre>

<p>Multiple series</p>

<div id="chart-7" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.LineChart("chart-7", [{"name":"Workout","data":{"2013-02-10 00:00:00 -0800":3,"2013-02-17 00:00:00 -0800":3,"2013-02-24 00:00:00 -0800":3,"2013-03-03 00:00:00 -0800":1,"2013-03-10 00:00:00 -0800":4,"2013-03-17 00:00:00 -0700":3,"2013-03-24 00:00:00 -0700":2,"2013-03-31 00:00:00 -0700":3}},{"name":"Go to concert","data":{"2013-02-10 00:00:00 -0800":0,"2013-02-17 00:00:00 -0800":0,"2013-02-24 00:00:00 -0800":0,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":2,"2013-03-17 00:00:00 -0700":1,"2013-03-24 00:00:00 -0700":0,"2013-03-31 00:00:00 -0700":0}},{"name":"Wash face","data":{"2013-02-10 00:00:00 -0800":0,"2013-02-17 00:00:00 -0800":1,"2013-02-24 00:00:00 -0800":0,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":0,"2013-03-17 00:00:00 -0700":1,"2013-03-24 00:00:00 -0700":0,"2013-03-31 00:00:00 -0700":1}},{"name":"Call parents","data":{"2013-02-10 00:00:00 -0800":5,"2013-02-17 00:00:00 -0800":3,"2013-02-24 00:00:00 -0800":2,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":0,"2013-03-17 00:00:00 -0700":1,"2013-03-24 00:00:00 -0700":1,"2013-03-31 00:00:00 -0700":0}},{"name":"Eat breakfast","data":{"2013-02-10 00:00:00 -0800":3,"2013-02-17 00:00:00 -0800":2,"2013-02-24 00:00:00 -0800":1,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":2,"2013-03-17 00:00:00 -0700":2,"2013-03-24 00:00:00 -0700":3,"2013-03-31 00:00:00 -0700":0}}], {});
</script>

<pre><code class="erb">&lt;%= line_chart @goals.map { |goal|
    {name: goal.name, data: goal.feats.group_by_week(:created_at).count}
} %&gt;
</code></pre>

<p>or</p>

<pre><code class="erb">&lt;%= line_chart Feat.group(:goal_id).group_by_week(:created_at).count %&gt;
</code></pre>

<h3 id="say-goodbye-to-timeouts">Say Goodbye To Timeouts</h3>

<p>Make your pages load super fast and stop worrying about timeouts.  Give each chart its own endpoint.</p>

<pre><code class="erb">&lt;%= line_chart completed_tasks_charts_path %&gt;
</code></pre>

<p>And in your controller, pass the data as JSON.</p>

<pre><code class="ruby">class ChartsController &lt; ApplicationController
  def completed_tasks
    render json: Task.group_by_day(:completed_at).count
  end
end
</code></pre>

<p><strong>Note:</strong> This feature requires <a href="http://jquery.com/">jQuery</a> or <a href="http://zeptojs.com/">Zepto</a> at the moment.</p>

<p>For multiple series, add <code>chart_json</code> at the end.</p>

<pre><code class="ruby">render json: Task.group(:goal_id).group_by_day(:completed_at).count.chart_json
</code></pre>

<h3 id="options">Options</h3>

<p>Id, width, and height</p>

<pre><code class="erb">&lt;%= line_chart data, id: &quot;users-chart&quot;, width: &quot;800px&quot;, height: &quot;500px&quot; %&gt;
</code></pre>

<p>Min and max values</p>

<pre><code class="erb">&lt;%= line_chart data, min: 1000, max: 5000 %&gt;
</code></pre>

<p><code>min</code> defaults to 0 for charts with non-negative values. Use <code>nil</code> to let the charting library decide.</p>

<p>Colors</p>

<pre><code class="erb">&lt;%= line_chart data, colors: [&quot;pink&quot;, &quot;#999&quot;] %&gt;
</code></pre>

<p>Stacked columns or bars</p>

<pre><code class="erb">&lt;%= column_chart data, stacked: true %&gt;
</code></pre>

<p>Discrete axis</p>

<pre><code class="erb">&lt;%= line_chart data, discrete: true %&gt;
</code></pre>

<p>Label (for single series)</p>

<pre><code class="erb">&lt;%= line_chart data, label: &quot;Value&quot; %&gt;
</code></pre>

<p>Axis titles</p>

<pre><code class="erb">&lt;%= line_chart data, xtitle: &quot;Time&quot;, ytitle: &quot;Population&quot; %&gt;
</code></pre>

<p>You can pass options directly to the charting library with:</p>

<pre><code class="erb">&lt;%= line_chart data, library: {backgroundColor: &quot;#eee&quot;} %&gt;
</code></pre>

<p>See the documentation for <a href="https://developers.google.com/chart/interactive/docs/gallery">Google Charts</a>, <a href="http://api.highcharts.com/highcharts">Highcharts</a>, and <a href="http://www.chartjs.org/docs/">Chart.js</a> for more info.</p>

<h3 id="global-options">Global Options</h3>

<p>To set options for all of your charts, create an initializer <code>config/initializers/chartkick.rb</code> with:</p>

<pre><code class="ruby">Chartkick.options = {
  height: &quot;400px&quot;,
  colors: [&quot;pink&quot;, &quot;#999&quot;]
}
</code></pre>

<p>Customize the html</p>

<pre><code class="ruby">Chartkick.options[:html] = &#39;&lt;div id=&quot;%{id}&quot; style=&quot;height: %{height};&quot;&gt;Loading...&lt;/div&gt;&#39;
</code></pre>

<p>You capture the JavaScript in a content block with:</p>

<pre><code class="ruby">Chartkick.options[:content_for] = :charts_js
</code></pre>

<p>Then, in your layout:</p>

<pre><code class="erb">&lt;%= yield :charts_js %&gt; &lt;%# Rails %&gt;
&lt;%= yield_content :charts_js %&gt; &lt;%# Padrino %&gt;
</code></pre>

<p>This is great for including all of your JavaScript at the bottom of the page.</p>

<h3 id="data">Data</h3>

<p>Pass data as a Hash or Array</p>

<pre><code class="erb">&lt;%= pie_chart({&quot;Football&quot; =&gt; 10, &quot;Basketball&quot; =&gt; 5}) %&gt;
&lt;%= pie_chart [[&quot;Football&quot;, 10], [&quot;Basketball&quot;, 5]] %&gt;
</code></pre>

<p>For multiple series, use the format</p>

<pre><code class="erb">&lt;%= line_chart [
  {name: &quot;Series A&quot;, data: series_a},
  {name: &quot;Series B&quot;, data: series_b}
] %&gt;
</code></pre>

<p>Times can be a time, a timestamp, or a string (strings are parsed)</p>

<pre><code class="erb">&lt;%= line_chart({20.day.ago =&gt; 5, 1368174456 =&gt; 4, &quot;2013-05-07 00:00:00 UTC&quot; =&gt; 7}) %&gt;
</code></pre>

<h2 id="installation">Installation</h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre><code class="ruby">gem &quot;chartkick&quot;
</code></pre>

<p>Next, choose your charting library.</p>

<p><strong>Note:</strong> <code>application.js</code> must be included <strong>before</strong> the helper methods in your views, unless using the <code>:content_for</code> option.</p>

<h4 id="google-charts">Google Charts</h4>

<p>In <code>application.js</code>, add:</p>

<pre><code class="js">//= require chartkick
</code></pre>

<p>In your views, before <code>application.js</code>, add:</p>

<pre><code class="erb">&lt;%= javascript_include_tag &quot;https://www.google.com/jsapi&quot; %&gt;
</code></pre>

<h4 id="highcharts">Highcharts</h4>

<p>Download <a href="https://code.highcharts.com/highcharts.js">highcharts.js</a> into <code>vendor/assets/javascripts</code>.</p>

<p>In <code>application.js</code>, add:</p>

<pre><code class="js">//= require highcharts
//= require chartkick
</code></pre>

<p>Works with Highcharts 2.1+</p>

<h4 id="chart-js-in-beta">Chart.js (in beta)</h4>

<p>In <code>application.js</code>, add:</p>

<pre><code class="js">//= require Chart.bundle
//= require chartkick
</code></pre>

<h3 id="for-rails-2-3-and-3-0">For Rails 2.3 and 3.0</h3>

<p>You must include <code>chartkick.js</code> manually.  <a href="https://raw.github.com/ankane/chartkick/master/app/assets/javascripts/chartkick.js">Download it here</a></p>

<p>For Rails 2.3, you must use a script tag for Google Charts due to <a href="https://rails.lighthouseapp.com/projects/8994/tickets/1664-javascript_include_tag-shouldnt-append-a-js-onto-external-urls">this bug</a>.</p>

<pre><code class="html">&lt;script src=&quot;https://www.google.com/jsapi&quot;&gt;&lt;/script&gt;
</code></pre>

<h3 id="for-sinatra">For Sinatra</h3>

<p>You must include <code>chartkick.js</code> manually.  <a href="https://raw.github.com/ankane/chartkick/master/app/assets/javascripts/chartkick.js">Download it here</a></p>

<pre><code class="html">&lt;script src=&quot;https://www.google.com/jsapi&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;chartkick.js&quot;&gt;&lt;/script&gt;
</code></pre>

<h3 id="for-padrino">For Padrino</h3>

<p>You must include <code>chartkick.js</code> manually.  <a href="https://raw.github.com/ankane/chartkick/master/app/assets/javascripts/chartkick.js">Download it here</a></p>

<pre><code class="erb">&lt;%= javascript_include_tag &quot;https://www.google.com/jsapi&quot;, &quot;chartkick&quot; %&gt;
</code></pre>

<h3 id="localization">Localization</h3>

<p>To specify a language for Google Charts, add:</p>

<pre><code class="html">&lt;script&gt;
  var Chartkick = {&quot;language&quot;: &quot;de&quot;};
&lt;/script&gt;
</code></pre>

<p><strong>before</strong> the JavaScript files.</p>

<h2 id="no-ruby-no-problem">No Ruby? No Problem</h2>

<p>Check out <a href="https://github.com/ankane/chartkick.js">chartkick.js</a></p>

<h2 id="credits">Credits</h2>

<p>Chartkick uses <a href="https://github.com/Do/iso8601.js">iso8601.js</a> to parse dates and times.</p>

<h2 id="history">History</h2>

<p>View the <a href="https://github.com/ankane/chartkick/blob/master/CHANGELOG.md">changelog</a></p>

<p>Chartkick follows <a href="http://semver.org/">Semantic Versioning</a></p>

<h2 id="contributing">Contributing</h2>

<p>Everyone is encouraged to help improve this project. Here are a few ways you can help:</p>

<ul>
<li><a href="https://github.com/ankane/chartkick/issues">Report bugs</a></li>
<li>Fix bugs and <a href="https://github.com/ankane/chartkick/pulls">submit pull requests</a></li>
<li>Write, clarify, or fix documentation</li>
<li>Suggest or add new features</li>
</ul>

<!-- END README -->

    </div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-39027070-4', 'chartkick.com');
      ga('send', 'pageview');
    </script>

  </body>
</html>
